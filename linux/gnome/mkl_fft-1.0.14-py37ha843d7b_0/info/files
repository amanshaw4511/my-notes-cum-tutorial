.Xd,a,c,"initialize"))}function QI(a){switch(a.v){case v.PERSISTENT:return lz(1);case v.TEMPORARY:return lz(0);default:throw Error("Cannot handle Filesystem type: "+a.v);}}r=OI.prototype;
r.Xd=function(a,b,c){b=RI(b,c);Fh(this.g,b);a(b)};r.Ha=function(a,b,c,d){a=RI(a,d);c&&hb(c,d.name)||Fh(this.g,a);this.o&&this.o(a);b(a)};r.rf=function(a,b,c,d){(b=b.getError())?this.Ha(a,c,null,b):d()};r.Ch=function(a,b){var c={requestTimeout:3E4};c.timeoutDelays=b.g.concat().toString();Fh(this.g,Error("Filesystem slowness, took 30000ms during "+a),c)};function RI(a,b){return new Gq("Filesystem error ("+b.name+") during "+a+": "+b.message,"QuotaExceededError"==b.name?"QuotaExceeded":"Other")}
r.qh=function(a,b,c){gz(new cz(c,c.g.root),this.w,2).R(Ta(this.kh,a,b),Ta(this.Xd,b,"handleFileSystemAvailable_"),this)};r.kh=function(a,b,c){this.cb=c;ez(c,"__initcheck",2).R(a,x(this.Xd,this,b,"handleDirectoryEntryAvailable_"))};function SI(a,b){(a=a.join("/"))&&(a+="/");b&&(a+=b);return a}r.De=function(a,b,c,d,e,f){if(0==b.length)TI(this,a,c,d,e);else{var g=b.shift();a=x(this.De,this,a,b,c,d,e);gz(f||this.cb,g,2).R(a,x(this.Ha,this,"addFileToDirectory_",e,null))}};
function TI(a,b,c,d,e){MI(c).R(function(f){f=x(a.Oi,a,f,d,e);ez(a.cb,b,2).R(f,x(a.Ha,a,"handleBlobReady_",e,null))},function(f){return e(LI(new Gq(f.message,"Other"),f))})}r.Oi=function(a,b,c,d){jz(d).R(x(this.Cg,this,a,b,c,d.g.toURL(void 0)),x(this.Ha,this,"writeDataToFile_",c