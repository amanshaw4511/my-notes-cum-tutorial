,"aggregationTarget","none",rOg);this.J=!0}A(kWg,eWg);kWg.prototype.V=function(a,b,c){this.J=!0;switch(a.DP){case "default":lWg(this,a,b,c);break;case "dive":mWg(this,a,b,c)}};kWg.prototype.R=function(a,b){return a.Fa(b,this.J)};function nWg(a){return Ka(a.Qb,function(b){return b.Dp})}function oWg(a,b,c){a.Qb=a.Qb||{};a=a.Qb;a[b]=a[b]||{};b=a[b];b.points=b.points||{};b=b.points;b[c]=b[c]||{};return b[c]}
function pWg(a,b,c){if(null!=b)return a=oWg(a,b,c),a.Qg=a.Qg||{},a.Qg;a=qWg(a,c);a.Qg=a.Qg||{};return a.Qg}function rWg(a,b){a.Qb=a.Qb||{};a=a.Qb;a[b]=a[b]||{};return a[b]}function qWg(a,b){a.Lf=a.Lf||{};a=a.Lf;a[b]=a[b]||{};return a[b]}function sWg(a,b){a.Ff=a.Ff||{};a=a.Ff;a.nU=a.nU||{};a=a.nU;a[b]=a[b]||{};return a[b]}
function lWg(a,b,c,d){var e={ah:b,Jt:BVg(a.D),sG:d,Kt:c.mq},f=c.mq.focused.sJ;null!=f&&(c.mq.focused.action=CVg(a.D,f).action);f=a.F.J;var g="selection"==f||"both"==f;f="focus"==f||"both"==f;for(var k="none"!=a.O,l=a.D&&0<e.Jt.length,m=XMg(c.selected),n=1<m.length&&(k||l),q=0;q<m.length;++q){var t=m[q],u=t.column,v=t.row,z=b.ga[u];t=z.li;if(v=b.Y3({column:u,row:v}))switch(z.Oo){case "data":tWg(a,b,v.Ei,v.Lb,d);g&&!n&&uWg(a,e,v.Ei,v.Lb);break;case "annotation":if(null!=t?b.Qb[t].Dp:b.Dp)t=z.qR,vWg(v.Ei,
v.Lb,t,d),g&&wWg(a,e,v.Ei,v.Lb,t)}}g&&n&&!b.xa&&(q=Ha(Ia(m,function(C){return b.Y3({column:C.column,row:C.row})}),function(C){return null!=C}),0<q.length&&xWg(a,e,k?q:[],q[q.length-1]));m=WMg(c.selected,"column");for(q=0;q<m.length;++q)u=m[q],z=b.ga[u],null!=z&&(t=z.li,null!=t&&yWg(a,b,t,d));m="bubble"===b.F;n=WMg(c.selected,"row");k=1<n.length&&(k||l);for(q=0;q<n.length;++q)v=n[q],l=b.la[v],m?(t=0,tWg(a,b,t,l,d),g&&!k&&uWg(a,e,t,l)):(zWg(a,b,l,d),g&&!k&&AWg(a,e,c.cursor.coa,l));k&&(m?uWg(a,e,0,b.la[n[n.length-
1]]):g&&(g=Ia(n,function(C){return b.la[C]}),0<g.length&&BWg(a,e,c.cursor.coa,g)));g=c.focused.Ei;q=c.focused.kC;null!=q?b.Qb[g].Dp&&(CWg(a,b,g,q,d),f&&uWg(a,e,g,q),DWg(b,g,q,d)):null!=g&&b.Qb[g].Dp&&EWg(a,b,g,d);g=c.Ff.focused.Ji;null!=g&&b.Qb[g].Dp&&EWg(a,b,g,d);g=c.focused.Lb;null!=g&&b.Lf[g]&&(FWg(a,b,g,d),f&&nWg(e.ah)&&(AWg(a,e,c.cursor.position,g),a.J=!1));if(g=c.oq.Yz)g=pWg(d,g.li,g.Bea),g.Rz=g.Rz||{},g.Rz.Qy=!0;(g=c.oq.focused)&&f&&(q=b.ga[g.column],f=q.li,g=b.la[g.row],q=q.qR,(null!=f?b.Qb[f].Dp:
b.Dp)&&wWg(a,e,f,g,q));if(a=c.vr)d.vr=a}var GWg=[.25,.1,.05],HWg=[.3,.1,.05],IWg=[.3,.15,.05];
function CWg(a,b,c,d,e){var f=b.Qb[c],g=f.points[d];if(!H7(g)&&g.xd&&(!lQg(f)||0!=f.lineWidth||mQg(g,f))){var k="bars"==f.type?IWg:GWg;e=oWg(e,c,d);e.Cy={};c=e.Cy;c.xe=[];for(d=0;d<k.length;d++){var l=new C6({fill:"none",stroke:"black",strokeOpacity:k[d],strokeWidth:1});c.xe.push({jc:l})}switch(f.type){case "bars":case "steppedArea":case "candlesticks":a=g.xd.NI||g.xd.rect||g.xd;b=new Ul(a.left,a.top,a.width,a.height);for(d=0;d<k.length;d++)a=c.xe[d].jc.$h,c.xe[d].rect=new Ul(b.left-a/2,b.top-a/2,
b.width+a,b.height+a),b.left-=a,b.top-=a,b.width+=2*a,b.height+=2*a;break;case "line":case "area":case "scatter":case "bubbles":e.visible=!0;c.x=g.xd.x;c.y=g.xd.y;if("both"===a.H||"focus"===a.H)d=kQg(g,f),d=hKg(a.W||d.We(),1,!1,a.aa),JWg(b,g,e,d,a.ga);e.Es?(a=e.Es,b=a.Lo+a.jc.$h/2):b=pQg(g,f);for(d=0;d<k.length;d++)a=c.xe[d].jc.$h,c.xe[d].Lo=b+a/2,b+=a}}}
function EWg(a,b,c,d){var e=b.Qb[c];if(lQg(e)&&0<e.lineWidth){var f=rWg(d,c);f.Cy={};f=f.Cy;f.xe=[];var g="area"==e.type?"none"!==b.aa?sQg(e):rQg(e,!1):rQg(e,b.wv);g=jQg(g);for(var k=e.gj.$h/2,l=0;l<HWg.length;l++){var m=new C6({fill:"none",stroke:"black",strokeOpacity:HWg[l],strokeWidth:1}),n=gWg(g,k+m.$h/2);f.xe.push({jc:m,path:n});k+=m.$h}}f=(f=(f=d.Qb)&&f[c])&&f.points;for(g=0;g<e.points.length;++g)k=e.points[g],H7(k)||(mQg(k,e)||f&&f[g]&&f[g].visible)&&CWg(a,b,c,g,d);b.J&&"scatter"===e.type&&
!KWg(e.columns)&&EWg(a,b,c-1,d)}function KWg(a){a=a["old-data"];return null!=a&&0<a.length}function FWg(a,b,c,d){for(var e=b.Qb,f=0;f<e.length;++f){var g=gPg(b,f,c);b.Qb[f].Dp&&null!=g&&CWg(a,b,f,g,d)}}
function tWg(a,b,c,d,e){var f=b.Qb[c],g=f.points[d];if(!H7(g)&&g.xd&&(!lQg(f)||0!=f.lineWidth||mQg(g,f))){var k=kQg(g,f);c=oWg(e,c,d);c.Es={};d=c.Es;var l=b.Ua;e=1;null==l&&(l="white",e=0);switch(f.type){case "bars":case "steppedArea":case "candlesticks":e=1;d.jc=new C6(D6);F6(d.jc,l);"candlesticks"==f.type&&(a=it(nN(k.We()).Gh),b=it(nN(l).Gh),f=it(nN(g.HT.We()).Gh),F6(d.jc,jt(Mic(f,[a,b]))));$Jg(d.jc,e);G6(d.