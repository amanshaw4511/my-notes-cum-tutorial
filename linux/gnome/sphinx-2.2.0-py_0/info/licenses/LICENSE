rototype.install=function(a){a=a&&vd(a);wyc(a)};Frg.prototype.D=function(a,b){CP(a,b,void 0)};Frg.prototype.hide=function(a){a=a&&vd(a);AGf(a)};Frg.prototype.F=function(a,b){Dyc(a,b)};function Grg(a,b){b=void 0===b?function(){return bye()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));sa(c)&&(c=Drg(c,"kd",!0),c.unshift("kd"),a.kd=new DNf(c));Crg.call(this,a);this.Kd=b}x(Grg,Crg);w=Grg.prototype;
w.wU=function(a){Crg.prototype.wU.call(this,a);this.D=a.kd;this.R=this.R||hpa("disco");var b;if(!(b=this.Ha)){b=hpa("usp_dm");var c=new Npg;null!=b&&("true"==b?M(c,1,2):"false"==b&&M(c,1,1));b=c}this.Ha=b;this.sd=a["anchor-is-orphaned-fn"]||Rb;this.la=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new Erg(a.containerdiv,this.la));this.yp=b;this.Cb=a.storage||null;this.Ub=!!a["storage-ro"];this.Rc=!!a["disable-focus"];this.Mu=!!a.so;this.Qd=a.docscroller||null;this.Vl=a["inactive-doco-indent"]||
10;this.Qa=a["instant-docos-div"]||null;this.hb=a["enable-new-delete-ui"]||!1;this.ib=a["delete-dialog-show"]||null;this.W=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.W=new Arg(b,c));this.jf=a["memory-monitor-fn"]||null;this.Dh=a.layout||null;this.uh=!!a.layoutrtl;this.O=a.listeners||{};this.V=a.panediv||null;this.ma=a.panekbdiv||null;b=a.sortpaneby||"creation";"sortpane"in a&&(b=a.sortpane?"updated":"none");this.wa=b;this.$a=a.quotefn||null;this.rc=a["user-color-provider-fn"]||
null;this.Po=a["user-color-provider-from-name-fn"]||null;this.Iu=a.quoterenderfn||null;this.ef=!!a["hide-notification"];this.aa=!!a.offline;this.Mb=!!a.nocss;this.Rb=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Bc=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Mi(this.D,8);this.J=new urg(this.Tg(),c?c:d?"readonly":"full",!!Mi(this.D,3),b);this.La=!!a.iph;this.Ah=a.maxheight||0;this.Ju=!!a.showerrors;
this.$b=a["stream-button"]||null;this.fd=!!a["disable-spfw"];this.Ea=a["anchor-mutate-fn"]||null;Hrg(this)||(this.Ea=null);this.Pb=!!a["enable-comment-button"];this.Ca=!!a["enable-gsuite-embedding"];this.Wb=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.Of=a["acl-fix-fn"]||null;this.pe=a["load-acl-fixer-fn"]||null;this.tb=a["intercept-docos-edit-fn"]||null;this.cg=a["is-an-illegal-write-fn"]||null;this.Fc=!!a["defer-first-sync"];this.mh=!!a["enable-lazy-loading"];this.xa=
!!a["enable-all-docos-in-anchored-stream"];this.Lu=a["stream-pane-banner-message"]||null;this.Wn=a["stream-pane-banner-learn-more-url"]||null;this.Jh=!!a["enable-track-mouse-positions-in-doco-view"];this.ga=!!a["enable-docos-people-hovercard"];this.Za=(b=a["impression-recorder-fn"])?ya(Brg,b):null;this.tf=a.hidepromofn;this.Ku=a.showpromofn;this.Nf=a["acl-check-fn"]||null;this.F=a["tooltip-manager"]||new Frg;this.mg=a["browser-app-clipboard"]||null;this.Ua=a["modal-dialog-z-index"]||null;this.Ed=
a["doco-link-base-url"];this.ha=!!a["untrusted-iframe"];this.qa=a["static-input-pane-message"]||null;this.Z2=a["drive-id"]||null;this.rb=!!a["enable-roving-tabindex"];this.Zb=a["auto-complete-factories"]||[];this.Yh=a["overflow-menu-items"]||[];this.H=a["ui-version"]||"legacy";this.Ka=a["link-opener"]||null;this.dispatchEvent("r")};function Irg(a){return null!=L(a.D,44)&&null!=L(l5(a.D),51)&&!!Mi(l5(a.D),51)}w.dF=function(){if(this.ef)return!1;var a=Mi(this.D,26);return null!=a?!!a:!0};
w.d7=function(){return!!Mi(this.D,43)};w.$ja=function(){var a=!1,b=l5(this.D);b&&(a=Mi(b,2));return!!Mi(this.D,43)&&!!a};function Jrg(a){return!!l5(a.D)&&!!Mi(l5(a.D),32)}w.Jga=p("Z2");function Hrg(a){return a.D&&!!Mi(a.D,18)}w.Mi=function(){return!!Mi(this.D,39)};function Krg(a){return a.Kd()&&!!Mi(a.D,10)&&!a.Rc}function Lrg(a){return Mi(a.D,10)?a.Zb:[]}function Mrg(a){return!!l5(a.D)&&!!Mi(l5(a.D),50)};function Nrg(a){a=a.link;return U('<input type="text" class="'+V("docs-copy-link")+'" value="'+V(a)+'" readonly="readonly">')};function Org(a,b,c,d){EP.call(this,void 0,void 0,a);this.H=this.O=this.J=this.D=null;this.V="";this.F=b||null;this.W=c||new aLc(a);this.R=null!=d?d:null;a=new UD;VD(a,{key:"done",caption:"Done"},!0,!0);this.F&&cLc(this.W)&&VD(a,{key:"copy-link",caption:"Copy Link"});HO(this,a);this.Pa=new Nj;this.ia(this.Pa)}x(Org,EP);w=Org.prototype;
w.oa=function(){EP.prototype.oa.call(this);Ik(uO(this),"copy-link-dialog");Ik(dM(this.ce,"done"),"copy-link-done-button");this.D=bQ(Nrg,{link:this.V},void 0,this.na());HA(this.D,"label","Link to this comment");this.gb().appendChild(this.D);this.J=dM(this.ce,"copy-link");null!==this.R&&(Xl(this.xq(),"z-index",this.R),Xl(uO(this),"z-index",this.R+1));if(this.J){var a=Id("DIV");Ik(a,"copy-link-butter-holder");this.ea().insertBefore(a,Yrc(this));this.O=new PB(a);this.H=RB("Link copied to clipboard.",
"info",!1,4E3);var b=$l(uO(this),"zIndex");Xl(a,"z-index",b+1)}};w.Om=function(){var a=this;EP.prototype.Om.call(this);this.F&&Oj(this.Pa,this.F.V,function(b){b.D&&a.H&&a.O&&(a.H.isVisible()||a.O.postMessage(a.H),a.D.focus(),a.D.select())});this.D.focus();this.D.select()};w.Zj=function(){EP.prototype.Zj.call(this);this.F&&wG(this.Pa,this.F.V)};w.za=function(){EP.prototype.za.call(this);MO(this,"done");this.Ba().listen(this.D,"click",this.LEb);this.J&&this.Ba().listen(this.J,"click",this.k7a)};
w.LEb=function(a){a.target.focus();a.target.select()};w.k7a=function(a){a.stopPropagation();this.F&&cLc(this.W)&&this.D&&this.D.value&&(this.D.focus(),this.D.select(),wLc(this.F,this.D.value))};w.ua=function(){EP.prototype.ua.call(this);ue(this.H);delete this.H;delete this.J;delete this.D};function Prg(a,b,c,d,e,f){t5.call(this,a,c);this.F=u5(a);this.Ea=lj(Zi(P(),"docs-seu")||this.F.Ed||window.location.href);this.J=new mS(c,new Qrg(d));this.H=new zT("",this.J,void 0,c);this.H.Uv=!0;this.addChild(this.H);this.R=null;Pa(e,"edit")&&(this.R=new hS("Edit"),this.R.Fd("docos-edit-menuitem"),this.J.addChild(this.R,!0));this.O=null;Pa(e,"delete")&&(this.O=new hS("Delete"),this.O.Fd("docos-delete-menuitem"),this.J.addChild(this.O,!0));this.aa=null;Pa(e,"reanchor")&&Jrg(this.F)&&(this.aa=new hS("Reanchor comment"),
this.aa.Fd("docos-reanchor-menuitem"),this.J.addChild(this.aa,!0));this.la=null;Pa(e,"disable")&&(this.la=new hS("Turn off suggested action items"),this.la.Fd("docos-disable-menuitem"),this.J.addChild(this.la,!0));this.xa=null;Pa(e,"help")&&(this.xa=new hS("Learn more"),this.xa.Fd("docos-help-menuitem"),this.J.addChild(this.xa,!0));d=y5(a).Dc(b);if(!d)throw Error("OL");this.V=d;this.Ca=f?H5(d,f):null;this.ga=null;u5(a).J.kka()&&Pa(e,"resolve")&&(this.ga=new hS(""),this.J.addChild(this.ga,!0));this.W=
this.ma=this.ha=null;Pa(e,"link")&&(this.ma=new hS("Link to this comment..."),this.ma.Fd("docos-link-menuitem"),this.J.addChild(this.ma,!0),this.W=new Org(c,this.F.mg||void 0,void 0,null===this.F.Ua?void 0:this.F.Ua),this.addChild(this.W),Ik(uO(this.W),"docos"),this.W.setTitle("Link to this comment..."),Rrg(this,b));this.qa=u5(a).Yh.map(function(g){return{nSa:g,Nza:new hS(g.getLabel())}});for(a=0;a<this.qa.length;a++)this.J.addChild(this.qa[a].Nza,!0)}x(Prg,t5);w=Prg.prototype;
w.yb=function(a){t5.prototype.yb.call(this,a);a=this.na().Wa("docos-docomenu-dropdown",this.ea());null===a?(a=this.$a,null!==a&&a.D(Error("PL"))):(this.H.Xa(a),this.H.Na(!0),this.F.F.D(a,"More options..."),this.H.Kf("More options..."))};
w.za=function(){var a=this;t5.prototype.za.call(this);Srg(this);v5(v5(v5(this,this.J.ea(),"click",this.KFa),this.H.ea(),"click",this.KFa),this.F,"r",this.X6a);v5(this,this.H.ea(),"keyup",this.BGb);Trg(this,this.R,this.DHb);Trg(this,this.O,this.BHb);Trg(this,this.ma,this.PBb);Trg(this,this.aa,this.FHb);Trg(this,this.ga,this.GHb);Trg(this,this.la,this.CHb);Trg(this,this.xa,this.EHb);for(var b={},c=0;c<this.qa.length;b={W_:b.W_},c++)b.W_=this.qa[c],Trg(this,b.W_.Nza,function(d){return function(){d.W_.nSa.D((a.Ca||
a.V).gy())}}(b))};w.focus=function(){this.H.ea().focus()};w.update=function(){Srg(this)};function Rrg(a,b){if(a.W){var c=a.Ea.clone();b=c.F.set("disco",b);a=a.W;c=hj(c,b).toString();a.V=c;a.D&&(a.D.value=c)}}function Trg(a,b,c){b&&v5(a,b,"action",c)}w.GHb=function(a){yrg(this.F.J,this.V)&&(this.dispatchEvent(new Urg("r")),Vrg(this,a))};w.DHb=function(a){Wrg(this)&&(this.dispatchEvent(new Urg("e")),Vrg(this,a))};w.CHb=function(a){this.dispatchEvent(new Urg("i"));Vrg(this,a)};
w.BHb=function(a){Xrg(this)&&(this.H.Pf(!1),this.dispatchEvent(new Urg("d")),Vrg(this,a))};w.FHb=function(a){this.dispatchEvent(new Urg("ra"));Vrg(this,a)};w.EHb=function(a){this.dispatchEvent(new Urg("h"));Vrg(this,a)};w.PBb=function(a){Vrg(this,a);this.W.setVisible(!0)};function Vrg(a,b){b.stopPropagation();a.H.Pf(!1)}w.BGb=function(a){27==a.keyCode&&a.stopPropagation()};w.KFa=function(a){a.stopPropagation()};w.X6a=function(){Srg(this)};function Wrg(a){return wrg(a.F.J,a.Ca||a.V)&&!a.ha}
function Xrg(a){return xrg(a.F.J,a.Ca||a.V)&&!a.F.ha}function Srg(a){if(a.ga){var b=a.V.isResolved();if(null===a.ha||b!=a.ha){var c=Yrg(a.V)?"