"yIa");w.getOriginatingDocoType=p("o4");w.getWasSmartTodo=p("rqb");function SUf(a,b,c,d){return RUf.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}x(SUf,RUf);function f5(a,b,c,d,e,f,g){W4.call(this,a,b,c,e,f);this.Ik=d;this.na=this.Ja=null;this.F=new NSf(a,this.ma(),this,g);this.addChild(this.F);this.Tc(b)}x(f5,W4);w=f5.prototype;w.qa=function(){this.na=new aQ(this.ga());this.ia(this.na);var a=this.na;a.Gh("backToDocument",85);a.Gh("blur",27);a.Gh("next",74);a.Gh("next",sH(["N","C"]));a.Gh("prev",75);a.Gh("prev",sH(["P","C"]));a.Gh("reply",82)};
w.za=function(){W4.prototype.za.call(this);this.Aa().listen(this.F,"p",this.tAa).listen(this.F,"c",this.hha).listen(this.F,"s",this.LM).listen(this.F,"b",this.G$a).listen(this.F,"e",this.Tca).listen(this.F,"f",this.I$a);this.Aa().listen(this.na,"shortcut",this.H$a);var a=this.ga();this.F.aa=a;this.Ja=new GQ(this.ga(),this.ma());this.ia(this.Ja);HQ(this.Ja)};w.bRa=function(a,b,c,d,e){l4(this.getContext()).Qb("docos-convert-doco").fireAction({wi:a,Hk:b,Ym:c,Iza:d,DI:e})};
w.tAa=function(){var a=this.mfa()?this.mfa().getEmail():void 0,b=this.$b().getNewDocoType()?this.$b().getNewDocoType():void 0,c=this.KZ();var d=this.$b().D;d=null!=L(d.D,20)?L(d.D,20):null;a=new SUf(c,a,b,1==d);c=P4(j4(this.getContext()),this.getId());Ze(z(this.bRa,this,this.getId(),this.eI(),c,a,b))};w.$Qa=function(a,b,c,d){l4(this.getContext()).Qb("docos-delete-doco").fireAction({wi:a,Hk:b,Ym:c,DI:d})};
w.hha=function(){var a=P4(j4(this.getContext()),this.getId()),b=this.$b().getNewDocoType()?this.$b().getNewDocoType():void 0;Ze(z(this.$Qa,this,this.getId(),this.eI(),a,b))};w.Sm=t(!0);w.eI=p("Ik");w.nfa=t(!0);w.lxa=function(a){TUf(this);a.stopPropagation()};function TUf(a){var b=l4(a.getContext()),c=mOf(R3(Q3(a.getId()),a.Wa));b.Qb("docos-before-highlight-doco").fireAction(c.build());$4(j4(a.W),a.getId());b.Qb("docos-highlight-doco").fireAction(c.build())}
w.H$a=function(a){var b=l4(this.getContext());switch(a.identifier){case "backToDocument":b.Qb("docos-back-to-document").fireAction({wi:this.getId()});break;case "blur":b.Qb("docos-before-highlight-doco").fireAction(P3());$4(j4(this.W),null);b.Qb("docos-highlight-doco").fireAction(P3());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.F.focus()}};w.update=function(){nRf(this);this.B2()};w.G$a=function(a){this.LM(a)};
w.Tca=function(){var a=l4(this.getContext());a.Qb("docos-before-highlight-doco").fireAction(P3());$4(j4(this.W),null);a.Qb("docos-highlight-doco").fireAction(P3())};w.I$a=function(){this.xk()||TUf(this)};w.focus=function(){this.xk()&&(Yc?Ze(this.tBa,0,this):this.tBa())};w.LM=function(a){var b=pRf(this);if(b){var c=this.ga();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}W4.prototype.LM.call(this,a)};
w.tBa=function(){this.F.ready();var a=this.ma(),b=bG(a);(Yc&&!b||!a.contains(this.ga(),b))&&Ze(function(){this.Db()&&this.ga().focus()},0,this)};function UUf(a,b,c,d,e,f){f5.call(this,a,b,c,d,e,f);this.F.la="Reply...";this.O=!1;this.H=this.J=null}x(UUf,f5);w=UUf.prototype;
w.qa=function(){var a=this.ma(),b=this.D.xg(),c=fO(kRf,{author:b.getName(),OE:this.D.ea?b.getId():null,Vw:!0,Sm:!0,Bi:this.D.Bi(),$B:this.D.oa},void 0,a);this.wb(c);this.F.Za(a.Ua("docos-docoview-input-pane",c));this.J=a.Ua("docos-author",c);this.H=P_(a,"IMG","docos-replyview-avatar",c);var d=a.Ua("docos-replyview-origin",c);R(d,!1);if(a=a.Ua("docos-user-presence",c))if(c=this.D.ac)a.style.backgroundColor=c(b.getId());f5.prototype.qa.call(this)};
w.za=function(){f5.prototype.za.call(this);nRf(this);var a=this.$b().pw();pb(a)||this.F.ready(a,!0,!0);a=this.D.xg();VQf(i4(this.getContext()),this.H,a.D,W3(a))};w.mfa=function(){return JSf(this.F.J)};w.KZ=function(){return this.F.getValue()};w.Tca=function(a){X4(this.F)?this.LM(a):f5.prototype.Tca.call(this,a)};
w.update=function(){f5.prototype.update.call(this);var a=this.xk();a!=this.O&&(this.xk()||X4(this.F)?this.dispatchEvent(new V4(this.getId())):this.hha());a?this.ga().setAttribute("guidedhelpid","comment_draft_box"):this.ga().removeAttribute("guidedhelpid");this.O=a};w.Mc=function(){f5.prototype.Mc.call(this);l4(this.getContext()).Qb("docos-edit-draft").fireAction({wi:this.getId(),text:this.KZ(),ena:this.H})};w.va=function(){f5.prototype.va.call(this);delete this.J;delete this.H};function VUf(a,b,c,d,e,f){UUf.call(this,a,b,c,d,e,f);this.$b()}x(VUf,UUf);function WUf(a,b,c,d,e,f){UUf.call(this,a,b,c,d,e,f);this.$b()}x(WUf,UUf);WUf.prototype.R=function(a,b,c,d,e,f){this.dispatchEvent(new aTf("sd",a,b,c,d,e,f))};WUf.prototype.tAa=function(){var a=P4(j4(this.getContext()),this.getId()),b=JSf(this.F.J);if(null!=b){Zi(this.D.D,38);var c=TOf(b)}Ze(z(this.R,this,this.getId(),this.eI(),a,this.KZ(),"instant-doco"==this.$b().fq,c))};WUf.prototype.aa=function(a,b,c,d){l4(a).Qb("docos-cancel-insert-discussion").fireAction({wi:b,Hk:c,Ym:d})};
WUf.prototype.hha=function(){var a=P4(j4(this.getContext()),this.getId());Ze(z(this.aa,this,this.getContext(),this.getId(),this.eI(),a))};function XUf(a,b,c,d,e,f){b=RUf.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.Vb=a||null;return b}x(XUf,RUf);XUf.prototype.getPosition=p("Vb");function YUf(a){this.o4=a}YUf.prototype.getOriginatingDocoType=p("o4");function ZUf(a,b,c){this.o4=a;this.VH=b;this.Y8a=c;return this}x(ZUf,YUf);ZUf.prototype.isTodo=p("VH");ZUf.prototype.isWrongAssignee=p("Y8a");function $Uf(a,b,c,d,e,f){f5.call(this,a,b,c,d,e,f,!0);this.wa=this.oa=this.J=this.R=this.ea=this.O=this.H=this.Ia=this.aa=this.la=null;this.Na=uQf(a)}x($Uf,f5);w=$Uf.prototype;
w.qa=function(){var a=this.D,b=this.ma();a=fO(kRf,{Sm:!0,sM:!0,DJa:!!Zi(a.D,41),Bi:a.Bi(),Zj:"legacy"!=a.H},void 0,b);this.wb(a);this.F.Ya=!1;this.F.Za(b.Ua("docos-docoview-input-pane",a));this.la=b.Ua("docos-input-assign-to-text",a);this.aa=b.Va("docos-smarttodoview-body",a);this.aa.id=uK(this,"body");this.H=b.Ua("docos-smarttodoview-feedback",a);this.oa=b.Ua("docos-smarttodoview-showfeedbackdialog-button",a);this.wa=b.Ua("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");c.push("disable");
c.push("help");this.J=new RPf(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.addChild(this.J);this.J.Za(b.Va("docos-overflowmenu-outer",a));this.H&&(this.O=aVf(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.R=aVf(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Ia=bVf(this,"docos-smarttodoview-feedback-cancel"),(this.ea=bVf(this,"docos-smarttodoview-feedback-submit"))&&
this.yka());b=b.Va("docos-smarttodoview-headertext",a);b.id=uK(this,"headertext");wA(a,"labelledby",b.id);wA(a,"describedby",this.aa.id);f5.prototype.qa.call(this)};function aVf(a,b,c){var d=a.ma(),e=a.ga();b=d.Ua(b,e);c=d.Ua(c,e);e=null;b&&(e=new EO(!1,d),c&&e.Xc(c),e.Za(b),a.ia(e));return e}function bVf(a,b){var c=a.ma();b=c.Ua(b,a.ga());var d=null;b&&(d=new SO(null,c),d.Za(b),eM(b,d.getTooltip()),a.ia(d));return d}
w.za=function(){f5.prototype.za.call(this);g4(g4(g4(this,this.J,"e",this.aab),this.J,"i",this.qXa),this.J,"h",this.oZa);this.H&&(this.oa&&this.Aa().we(this.oa,EB,this.m4a),this.wa&&this.Aa().we(this.wa,EB,this.v6a),this.O&&g4(this,this.O,"change",this.yka),this.R&&g4(this,this.R,"change",this.yka),this.Ia&&g4(this,this.Ia,"action",this.xYa),this.ea&&g4(this,this.ea,"action",this.zYa));this.F.ready(void 0,void 0,!0);this.update()};w.B2=function(){f5.prototype.B2.call(this);this.ha&&Vk(this.ha,"docos-smarttodoview-arrow-inner")};
w.update=function(){f5.prototype.update.call(this);var a=h4(this.$b());a=V3(a);a=xOf(a,this.D,!0);a=(new $Q("As