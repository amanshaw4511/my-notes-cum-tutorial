this,d));a.ua()&&_.I(a,89,!1)&&(a=new Zgf(this.H),b=new ahf(this.H),c=new y7(this.H),B7(this,a),B7(this,b),B7(this,c))};_.D(nhf,_.L);
nhf.prototype.ua=function(a){a=a.target;_.Ag(this.W,a);this.V==a&&(this.V=null,this.dispatchEvent("Ch"))};nhf.prototype.wa=function(a){this.ta.add(a.target.getId());a=this.H.Yb();a.Bf()&&this.ma.add(a.ad().getId())};
var B7=function(a,b){a.Db.listen(b,"zh",a.ua);a.Db.listen(b,"Ah",a.wa);a.W.push(b)},lgf=function(a){if(!a.ka&&0<a.W.length)return ohf(a);a.V=a.ka;return Promise.resolve(a.V)},ohf=function(a){var b=a.H.Yb();return b.Bf()&&a.ma.has(b.ad().getId())?Promise.resolve(null):function(c,d){var e=function(f){if(f>=c.length)return null;var h=c[f];return d(h).then(function(k){return k?h:e(f+1)})};return e(0)}(a.W,function(c){return a.ta.has(c.getId())?Promise.resolve(!1):c.dD()}).then(function(c){c&&(a.V=c);
return c})};nhf.prototype.register=function(a,b){this.W.forEach(function(c){return c.register(a,b)})};
var C7=function(a){var b=this;_.R2.call(this,a);var c=this.Ha(),d=a.mb();this.ma=new _.k3(c);this.tb(this.ma);this.ta=new _.k3(c);this.tb(this.ta);this.Da=null;_.I(a.mb(),52,!1)&&(this.Da=new Mef(a),this.tb(this.Da));this.wa=new b7(a);this.tb(this.wa);a.registerService(_.vOe,this.wa);this.qc=new (3==d.H()?t7:Vff)(a);this.tb(this.qc);this.Ma=this.Ta=this.Za=null;V5(d)&&(this.Ma=new Idf(a),this.tb(this.Ma));this.Ja=null;_.I(d,87,!1)&&a.Kc(_.uOe).then(function(f){b.getContext().isDisposed()||(b.Ja=new f(b.getContext()),
f=!!b.Ca(),b.tb(b.Ja,f))});this.ua=null;a.ej()&&(this.u