rototype.Xd=function(a){a.preview&&a.preview.link?this.upload(a.preview.link):this.Ub()};G6.prototype.Ub=function(){this.Od(4,void 0,21)};
var U$e=function(a){if(c5(a.item.H))return c5(a.item.H);var b=a.getContext().mb();a=a.item.H;var c=new _.sf(_.r(b,85)||b.ta());_.Hj(c,_.v(b,9,"")+"/viewer");_.tf(c,"output","pj");if(b=_.t(a,o0e,39))_.tf(c,"pid",_.r(b,1)),_.tf(c,"srcid",_.r(b,2));else if(_.r(a,40))_.tf(c,"url",_.r(a,40));else return"";return c.toString()};G6.prototype.Jaa=function(){return"img"};
var H6=function(a,b){G6.call(this,a,b);this.item=a;a=this.item.V;this.ke.listen(this.item,"pg",this.gLa).listen(a,"lg",this.fLa).listen(a,"Kf",this.hLa)};_.D(H6,G6);H6.prototype.u1=function(){laf(this,0,2);this.H?maf(this):haf(this)};
var maf=function(a){var b=a.getContext().Bd(),c=a.getContext().Yb();a.getContext().hM().H()||b.Ba&&c.V(a.item)?haf(a):a.ke.kd(b,"Ye",function(){maf(this)})},naf=function(a,b,c){a=a.item.ta-1;return new _.Su(_.dj(b,0,a),_.dj(c,0,a))},laf=function(a,b,c){b=naf(a,b,c);for(c=b.start;c<=b.end;c++){var d=a.Ba(c);gaf(a,c,d);if(a.H){var e=a,f=c;d={};var h=e,k=f,m=eaf(d);h.wa[k]&&h.wa[k][m]&&h.wa[k][m]||(h=e,h.H?(k=baf(f,d),h=I_e(h.H,k)):h=h.H,h&&(e.ka.Xl(iaf(e,f,d),{re:88,item:e.item,gO:f}),h=aaf(e,_.If(Z5,
h),(0,_.C)(e.rUa,e,f,d),(0,_.C)(e.qUa,e,f,d)),d=eaf(d),e.wa[f]||(e.wa[f]={}),e.wa[f][d]=h))}}};H6.prototype.Ba=function(){return{}};var oaf=function(a,b,c){b=naf(a,b,c);for(c=b.start;c<=b.end;c++)if(a.item.Poa()){var d=a.item.Xk(c),e=a.item.Cb.H[c];null==e||d.Ub()||(d.Ma=new K2e(d.V,e),d.dispatchEvent("hg"))}};_.g=H6.prototype;
_.g.p7=function(a){var b;if(!(b=800>a.naturalWidth)){b=this.item.Fc();var c=A6(_.Td(I9e.H)),d=_.I4(this.getContext().mb());d=d&&_.J4(d);b=_.vg(c,b)&&11==d}if(b)return!1;b=this.item.Xk(0);b.ka()||Q2e(b,new _.KTe(a),!0);return!0};
_.g.Afa=function(a,b){a=new A3e;var c=[];a.parse(b,c);b=this.item;var d=!!this.H;b.Cb=a;for(var e=b.ka.length,f=0;f<e;f++){var h=b.ka[f];h.V=c[f];P2e(h)}if(!d){for(c=0;c<e;c++){f=a.H[c];d=b.ka[c];f=f?f:[];h=[];d.H=[];for(var k=f.length,m=0;m<k;m++){for(var n=f[m],q=new o2e(n.left,n.top,n.width,n.height,[]),u=n.H.length,y=0;y<u;y++){var A=new I2e(d.H.length,d.V,n.H[y],q);q.H.push(A);d.H.push(A)}h.push(q)}d.Ta=O2e(d,d.Ta,h);d